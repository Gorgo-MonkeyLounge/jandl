<!DOCTYPE html>
<html>
	<head>
		<link href="publication-web-resources/css/main.css" rel="stylesheet" type="text/css">
		<script src="publication-web-resources/script/main.js" type="text/javascript"></script>
        
        <style>
            /* 1. Main Window Settings */
            body, html {
                margin: 0;
                padding: 0;
                width: 100%;
                height: 100%;
                background-color: #fafafa; /* Very Light Grey (Almost White) */
                overflow: hidden; 
            }

            /* 2. Make the iframe fill the screen */
            #contentIFrame {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                border: none;
            }
        </style>

        <script>
            function forceCenterLayout() {
                var iframe = document.getElementById("contentIFrame");
                // Get the document inside the iframe
                var innerDoc = iframe.contentDocument || iframe.contentWindow.document;
                
                // Create a style element
                var style = innerDoc.createElement('style');
                style.innerHTML = `
                    /* 1. Turn the internal body into a Flex container */
                    body {
                        background-color: transparent !important;
                        display: flex !important;
                        justify-content: center !important;
                        align-items: center !important;
                        width: 100vw !important;
                        height: 100vh !important;
                        margin: 0 !important;
                        overflow: hidden !important;
                    }

                    /* 
                       2. TARGET THE WRAPPER DIV 
                       We target "body > div" to grab that first container you found.
                       We force it to stop being absolute and reset its transform.
                    */
                    body > div {
                        position: relative !important;
                        left: auto !important;
                        top: auto !important;
                        transform: none !important; /* Removes the translate(0,0) */
                        margin: auto !important;
                        
                        /* Optional: Adds a soft shadow so the page pops out */
                        box-shadow: 0 0 30px rgba(0,0,0,0.1); 
                    }
                `;
                innerDoc.head.appendChild(style);
            }
        </script>
	</head>
    
    <!-- We delay the centering slightly (100ms) to ensure InDesign has finished its setup -->
	<body onload="showHideArrows()">
		<iframe onload="showHideArrows(); setTimeout(forceCenterLayout, 100);" id="contentIFrame" class="contentIframeClass" src="publication-web-resources/html/publication.html"></iframe>
		
        <iframe id="dummyIFrame" class="dummyFrameClass"></iframe>
		<div class="prev" onclick="showPreviousPage()">&#10094;</div>
		<div class="next" onclick="showNextPage()">&#10095;</div>
	</body>
</html>

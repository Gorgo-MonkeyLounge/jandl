<!DOCTYPE html>
<html>
	<head>
		<link href="publication-web-resources/css/main.css" rel="stylesheet" type="text/css">
		<script src="publication-web-resources/script/main.js" type="text/javascript"></script>
        
        <!-- NEW STYLE: This makes the iframe fill the whole screen -->
        <style>
            body, html {
                margin: 0;
                padding: 0;
                width: 100%;
                height: 100%;
                background-color: #333; /* Dark background */
                overflow: hidden;       /* No scrollbars on the main window */
            }

            #contentIFrame {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                border: none;
            }
        </style>

        <!-- NEW SCRIPT: This injects centering code INSIDE the iframe -->
        <script>
            function centerInnerContent() {
                var iframe = document.getElementById("contentIFrame");
                // Access the document inside the iframe
                var innerDoc = iframe.contentDocument || iframe.contentWindow.document;
                
                // Create a style element to put inside the iframe
                var style = innerDoc.createElement('style');
                style.innerHTML = `
                    body {
                        display: flex !important;
                        justify-content: center !important;
                        align-items: center !important;
                        min-height: 100vh !important;
                        margin: 0 !important;
                    }
                    /* Attempts to center absolute positioned InDesign containers */
                    div[id^="container"], .page, #main {
                        position: relative !important;
                        margin-left: auto !important;
                        margin-right: auto !important;
                        box-shadow: 0 0 20px rgba(0,0,0,0.5); /* Optional shadow */
                    }
                `;
                innerDoc.head.appendChild(style);
            }
        </script>
	</head>
    
    <!-- Added 'centerInnerContent()' to the iframe onload event -->
	<body onload="showHideArrows()">
		<iframe onload="showHideArrows(); centerInnerContent()" id="contentIFrame" class="contentIframeClass" src="publication-web-resources/html/publication.html"></iframe>
		
        <iframe id="dummyIFrame" class="dummyFrameClass"></iframe>
		<div class="prev" onclick="showPreviousPage()">&#10094;</div>
		<div class="next" onclick="showNextPage()">&#10095;</div>
	</body>
</html>
